<div class="requests-container">
    @if (requests.length === 0) {
    <div class="no-requests">
        <p>No hay solicitudes para este alojamiento</p>
    </div>
    } @else {
    <div class="requests-list">
        @for (request of requests; track request.requestId) {
        <div class="request-card">
            <div class="request-header">
                <div class="student-info">
                    @if (request.studentPhotoUrl) {
                    <img [src]="request.studentPhotoUrl" [alt]="request.studentName" class="student-photo">
                    }
                    <div class="student-details">
                        <h4 class="student-name">{{ request.studentName }}</h4>
                        @if (request.studentUniversity) {
                        <span class="student-university">{{ request.studentUniversity }}</span>
                        }
                    </div>
                </div>
                <span class="request-status" [class]="'status-' + request.statusColor">
                    {{ request.statusLabel }}
                </span>
            </div>

            @if (request.message) {
            <div class="request-message">
                <p>{{ request.message }}</p>
            </div>
            }

            <div class="request-footer">
                <span class="request-date">{{ request.date | date:'dd/MM/yyyy' }}</span>
                <div class="request-actions">
                    @if (request.status !== 'agendado' && request.status !== 'rechazado') {
                    <button class="btn-action btn-accept" (click)="onAcceptRequest(request.id)">Aceptar</button>
                    <button class="btn-action btn-reject" (click)="onRejectRequest(request.id)">Rechazar</button>
                    }
                </div>
            </div>
        </div>
        }
    </div>
    }
</div>